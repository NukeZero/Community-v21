
=====================================================================================================
* gmpbigsun 박태선 memo  : Beast update             since 2009_07
=====================================================================================================

* 선택한 오브젝트에 대해 AABB가 서로 충돌할경우 Vertex color ->RED
  -> IsTouchAABB 함수가 오작동함 

* 선택한 오브젝트에 대해 Snap 
  -> 미구현

* MPU 변경 
  -> 기존에 4로 박혀있는 MPU를 월드당 1~4로 변경할수있게 수정 

* Invisible Collision 속성 추가 
  -> Ingame에서 보이지 않는 충돌객체를 말함	

* Leak and clash 
  -> -_-나중에 시간나면, 미완성을 아무말없이 인계받아 죽을맛..

* SaveWorld 와 SaveasWorld 가 동일 함수를 사용하도록 수정 
 -> 지금까지 SaveWorld를 하게되면 정적오브젝트는 저장을 하지 않았다?? 
 -> 내부적으로 두함수는 _SaveTheWorld함수를 사용하도록 수정해서 같은 일을 하게 했다.

* CObj::Write, Read 함수가 수정됨 
-> Invisible collision속성은 m_dwType에 상위 2바이트 공간에 저장한다.
-> 이제 부터 MPU값이 변경되더라도 무조건 OLD_MPU( 4 )로 저장, 로드 시에 나누고 곱한다. 지금까지 데이터들과 호환되어야 하기때문에 ...

2009_08

* 대륙 경계 입력 기능 

* 대륙 환경 정보 입력기능 ( amient, diffuse, fog, wether, sky . )

* 월드 단위로 대륙설정 가능 ( 인도어 구분 없이 )

* 대륙 정보는 "월드이름.wld.cnt"에 저장 됨 

2009_09

* 환경 정보중 24시간별 light 및 sky관련 정보 월드별로 재구축 및 외부 데이터로!-_-

* 24 시간 Light default 값 적용 09_21

2009_10

* 1번 물텍스쳐 안나오던 버그 수정 

* 새로 추가된 텍스쳐 안나오던 문제 수정 

2009_11

* Invisible NoCollision 속성 추가 
 - InGame에서 보이지도 않고 충돌 하지도 않는 객체 : 보통 부피가 있고 내부와 외부경계 판정에 쓰일 용도 


TODO :  1.네비게이션 메쉬 생성 ( 타일 속성이 같고 위에 충돌 오브젝트가 없는경우 묶어서 이래저래 해서 만듬 )
		2.길찾기 알고리즘 적용 

처음 삼각형을 얻어서 
  속성? -> 가령 못걷는지역 등 
    삼각형 위에 충돌오브젝트가 설치되어 있는가? -> 설치되어있다면 못가는 지역임, 혹은 이검사는 하지않고 최후에 
	 설치된 충돌오브젝트에 대해서 바닥정보를 얻어서 못가는 지역으로 마크한다?

    터레인 모든 타일에 인접정보를 유지한다. 한타일당 최대 4개의 인접 타일이 있을수 있다. 

	이동하고자 하는 지점 T타일이 현재 지점 C타일 과 연결되어 있는가?
	연결되어 있다면 경로대로 움직여주면...


2010_02_19

*  fixed Terrain Layer Alpha Algorithm
 - Layer들간에 알파 조정 Algorithm이 문제가 있었다. 
   기존의 algorithm은 현재 칠해지려는 지역의 다른 Layer의 color를 칠해지려는 color로 조합하는 알수없는 ? 계산을 하고있다.
   그 결과는 patch간에 투명도가 있는 Texture를 칠할경우 문제가 있어(patch마다 적용결과값이 달라버린다 )
   texture 구분라인이 ( land mark와 관련이 있다 ) 생기며 섞이지 말아야 할 layer의 색이 묻어나왔다.

 - 새로운 algorithm은 새로 바뀌고 있는 지역의 LightMap의 다른 Layer들은 수정되었다는 표시만 ( alpha - 1 ) 하도록 하여
   추가되는 layer들과 자연스럽게 섞이도록 유도했다. ( 기존 알고리즘이 같은 레이어인경우 알파수치가 더 높은경우만 
   수정되도록 되어있는데 이부분을 바꾸지 않았다 )  섞이지 말아야 할 layer의 color는 90%이상 해결되었으나, 완벽하진 않다.
   
   ==> 작업자 요청으로 Roll-Back

2010_02_22

* 수치를 입력받아 오브젝트들의 회전 
 - LCONTROL + R or select Rotate in popup menu  
* 수치를 입력받아 오브젝트의 이동 
 - LCONTROL + T or select Translate in popup menu

2010_02_23

* LCONTROL로 두 오브젝트를 선택했을때 만일 충돌된 상태라면 바운드박스 라인컬러를 빨간색으로 그린다.
 - 오브젝트를 배치할때 실제로 붙어있는가 하는 체크를 할수 있다.

2010_02_25

* 대륙 안에서의 Light direction을 인도어가 아닐경우 월드와 같게 맞춤 

2010_03_16
* 맵 오브젝트 속성이 skin인경우 mdlobj.inc 에서 해당 오브젝트의 속성값을 ANIMATION_MESH로 바꿔줘야한다.
안그럼 해당 VertexBuffer는 지워져버린다. ( 즉 랜더링이 안되거나, 이상한 모양이 출력된다 )
=> common/worldfile.cpp 참고 

* 랜드스케이프 경계면을 가로지는 Color입히는 작업을 할경우 Layer 인덱스값이 전체 인덱스값보다 넘어버리는 경우가 발생해서 Crash
  이경우 해당 랜드스케이프 최대 Layer숫자로 보정해서 해결함.
  
* Weather 5번 추가 
  기존 날씨가 어쨓든 기본날씨로 바꾸고 고정됨.
  
2010_04_02
* 바다구름( 바다지만 게임 컨셉상 구름으로 표현되는 )의 텍스쳐를 World prop속성으로 추가해서 툴에서 바꿀수 있게함.
 - 환경file ( worldname.wld ) 에  seacloud 항목이 추가됨.

* stop the leak
CLandscape::~CLandscape()
SAFE_DELETE_ARRAY( m_pWaterVB );		//m_pWaterVB는 사용자 구조체로 이안에 LPDIRECT3DVERTEXBUFFER9만 릴리즈 하고있었다. 
										//m_pWaterVB가 new로 할당된 배열이기 때문에 릴리즈 이후 제거하도록 했다.
			
									
- log를 안쓰고 있었다. 다시 쓰자
2010_12_08
MAX_LEVEL -> MAX_CHARACTER_LEVEL로 대체됨

2011_04_05 
* 오브젝트 선택후 수치입력으로 Translate, Rotate에 이어 Scale 추가 ( 오브젝트 선택후 오른쪽 버튼으로 popup menu )
* popup menu중 InvisibleCollision선택시 충돌은 가능하나 렌더하지 않는 속성을 의미하고 저장시 type변수 앞 2byte를 사용함.

 


	 
    